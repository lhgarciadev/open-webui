# Fase 1.2 - Validar Creación de HF Space

## Objetivo
Verificar que el Space se creó correctamente y el build fue exitoso.

## Prompt de Validación

```
Valida que el HF Space de Ollama está correctamente configurado:

1. VERIFICAR REPOSITORIO:

   # Listar repos (reemplaza TU_USUARIO)
   huggingface-cli repo list --type space | grep cognitia-ollama

   # Debe aparecer: TU_USUARIO/cognitia-ollama

2. VERIFICAR ARCHIVOS EN HF:

   # Clonar para verificar
   git clone https://huggingface.co/spaces/TU_USUARIO/cognitia-ollama /tmp/verify-space

   # Verificar archivos
   ls -la /tmp/verify-space

   # Debe mostrar:
   # - Dockerfile
   # - start.sh
   # - README.md

   # Limpiar
   rm -rf /tmp/verify-space

3. VERIFICAR METADATA:

   # Abrir en navegador
   # https://huggingface.co/spaces/TU_USUARIO/cognitia-ollama

   # Verificar en la página:
   # - SDK: Docker
   # - Hardware: CPU basic (se cambiará a ZeroGPU)
   # - Status: Building o Running

4. VERIFICAR LOGS DE BUILD:

   # En la página del Space, click en "Logs"
   # Buscar:
   # - "Building Docker image..."
   # - Sin errores rojos
   # - "Container started" o similar

5. VERIFICAR STATUS:

   # El Space debe estar en uno de estos estados:
   # - Building (aún construyendo)
   # - Running (listo, pero sin GPU aún)
   # - Sleeping (idle, normal)

   # NO debe estar en:
   # - Build failed
   # - Runtime error

6. TEST BÁSICO (si está Running):

   # Probar endpoint (reemplaza TU_USUARIO)
   curl -s https://TU_USUARIO-cognitia-ollama.hf.space/api/tags

   # Si está en CPU, puede responder lento o con error
   # Esto es normal, se arregla con ZeroGPU

Resultado esperado:
- Space existe y es accesible
- Build completado sin errores
- Status: Running o Building (no Failed)
```

## Checklist de Validación

```
REPOSITORIO
[ ] Space aparece en lista de repos
[ ] Archivos correctos (Dockerfile, start.sh, README.md)
[ ] Metadata YAML parseada correctamente

BUILD
[ ] Build iniciado
[ ] Sin errores en logs
[ ] Status != Build failed

ACCESO
[ ] URL del Space accesible
[ ] Página muestra información correcta
[ ] Hardware muestra "CPU basic" (se cambiará)
```

## Criterios de Éxito

| Criterio | Esperado | Crítico |
|----------|----------|---------|
| Space existe | Sí | Sí |
| Build status | Running/Building | Sí |
| Archivos | 3 (Dockerfile, start.sh, README.md) | Sí |
| Metadata SDK | docker | Sí |
| URL accesible | Sí | Sí |

## Si Falla

### Build failed
```bash
# Ver logs detallados en HF
# Errores comunes:

# Error de sintaxis en Dockerfile
# → Verificar FROM, RUN, CMD

# Error en README.md YAML
# → Verificar formato YAML (--- al inicio y fin)

# Script no encontrado
# → Verificar COPY y chmod en Dockerfile
```

### Space no aparece
```bash
# Verificar que se creó
huggingface-cli repo list --type space

# Si no existe, crear de nuevo
huggingface-cli repo create cognitia-ollama --type space --space-sdk docker -y
```

### Push no subió archivos
```bash
# Verificar status local
cd ~/cognitia-ollama-space
git status

# Si hay archivos sin commit
git add .
git commit -m "fix: Add missing files"
git push
```

## Siguiente Paso

Si el build está Running/Building: Continuar a [2.1-zerogpu-ejecutar.md](./2.1-zerogpu-ejecutar.md)

Si el build falló: Corregir errores y repetir [1.1-space-ejecutar.md](./1.1-space-ejecutar.md)
