# Fase 5.4 - Validar UX de Costos y Curación en Cognitia

## Objetivo

Validar que el selector de modelos muestra costos en COP, curación por categoría y subcategoría “Especiales”.

## Prompt de Validación

```
Valida la UX de costos y curación en Cognitia:

1. VALIDAR SELECTOR (UI):

   a) Abrir Cognitia (producción o staging)
   b) Abrir selector de modelos
   c) Verificar que aparece la nota:
      "Precios estimados. 1 USD = 4000 COP. Costos por 1M tokens."

2. CURACIÓN POR DEFECTO:

   a) Verificar que hay una lista reducida por categoría
   b) Debe haber 1-9 modelos por categoría
   c) Los modelos especiales NO aparecen por defecto

3. BOTÓN "VER TODOS":

   a) Activar "Ver todos"
   b) Confirmar que aparece la categoría "Especiales"
   c) Verificar modelos como audio/realtime/imagen/search

4. COSTOS EN COP:

   a) En modelos OpenAI, verificar línea de costo:
      "Costo aprox: COP X / 1K (in) · COP Y / 1K (out)"
   b) Verificar que valores no están en USD

5. MODELOS LOCALES (COGNITIA + OLLAMA):

   a) Modelos `cognitia_llm_*` deben mostrar badge "Cognitia Local"
   b) Modelos Ollama deben mostrar badge "Ollama Local"
   c) Para ambos, debe aparecer: "Local (sin costo API)"

6. FILTROS:

   a) Filtrar por Local → deben incluir `cognitia_llm_*` y Ollama
   b) Filtrar por Rápidos/Económicos → deben incluir modelos mini/phi

7. ENDPOINTS:

   TOKEN="<TOKEN_ADMIN>"
   curl -H "Authorization: Bearer $TOKEN" \
     "https://<TU_HOST>/api/v1/pricing/models" | jq '.items | length'

Resultado esperado:
- Nota educativa visible
- Curación activa por defecto
- Especiales solo en "Ver todos"
- Costos en COP para modelos externos
- Local sin costo para cognitia/ollama
```

## Checklist de Validación

```
UI
[ ] Nota educativa visible
[ ] Curación por defecto activa
[ ] "Ver todos" muestra Especiales

COSTOS
[ ] COP para OpenAI
[ ] Local sin costo para cognitia/ollama

FILTROS
[ ] Local incluye cognitia_llm_* y ollama
[ ] Rápidos/Económicos incluye modelos mini/phi
```

## Criterios de Éxito

| Criterio             | Esperado          | Crítico |
| -------------------- | ----------------- | ------- |
| Nota educativa       | Visible           | Sí      |
| Curación por defecto | Activa            | Sí      |
| Especiales           | Solo en Ver todos | Sí      |
| COP correcto         | Visible           | Sí      |
| Local                | Sin costo API     | Sí      |

## Si Falla

- Costos vacíos: revisar /api/v1/pricing/models
- Sin Especiales: verificar toggle "Ver todos"
- Cognitia no local: verificar mapeo `cognitia_llm_*`

## Siguiente Paso

Si todo pasa: Continuar a [6.1-cleanup-ejecutar.md](./6.1-cleanup-ejecutar.md)
