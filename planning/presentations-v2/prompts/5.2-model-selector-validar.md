# Prompt 5.2: Validar - Selector de Modelos Agrupados

## Contexto

Validaci√≥n de la implementaci√≥n del selector de modelos agrupados por categor√≠a de uso.

## Checklist de Validaci√≥n

### 1. Estructura de Datos

- [ ] **Archivo `modelCategories.ts` existe** con todas las categor√≠as definidas
- [ ] **Archivo `modelUtils.ts` existe** con funciones de categorizaci√≥n
- [ ] **Interfaces TypeScript** correctamente tipadas
- [ ] **Sin errores de compilaci√≥n** (`npm run check`)

### 2. Categorizaci√≥n de Modelos

Verificar que los siguientes modelos se categorizan correctamente:

| Modelo                     | Categor√≠as Esperadas     |
| -------------------------- | ------------------------ |
| `claude-3-5-sonnet`        | coding, creative         |
| `gpt-4o`                   | coding, creative, vision |
| `gpt-4o-mini`              | fast                     |
| `claude-3-haiku`           | fast                     |
| `gemini-2.0-flash`         | fast                     |
| `o1` / `o1-mini`           | analysis (reasoning)     |
| `claude-3-opus`            | creative, analysis       |
| `llama3.2:latest` (Ollama) | local                    |
| `mistral:7b` (Ollama)      | local                    |
| `deepseek-coder`           | coding                   |

### 3. UI/UX del Selector

- [ ] **Agrupaci√≥n visual:** Modelos aparecen agrupados por categor√≠a
- [ ] **Headers de categor√≠a:** Muestran emoji + nombre + contador
- [ ] **Categor√≠as colapsables:** Click en header expande/colapsa
- [ ] **Pills de filtro:** Botones de filtro r√°pido visibles arriba
- [ ] **Favoritos primero:** Secci√≥n de favoritos aparece al inicio
- [ ] **Modelos sin categor√≠a:** Van a secci√≥n "General" o "Otros"

### 4. B√∫squeda

- [ ] **B√∫squeda funciona:** Escribir en el input filtra modelos
- [ ] **Vista plana durante b√∫squeda:** No se agrupan mientras se busca
- [ ] **Fuzzy search:** Buscar "claud" encuentra "Claude Sonnet"
- [ ] **B√∫squeda por categor√≠a:** Buscar "coding" muestra modelos de coding

### 5. Badges de Capacidades

- [ ] **Context window:** Badge üß† con tama√±o (128K, 200K, 1M)
- [ ] **Velocidad:** Badge ‚ö° para modelos r√°pidos
- [ ] **Precio:** Badge üí∞ para modelos econ√≥micos
- [ ] **Vision:** Badge üëÅÔ∏è para modelos multimodales
- [ ] **Tools:** Badge üîß para modelos con function calling
- [ ] **Reasoning:** Badge ü§î para modelos con thinking mode

### 6. Compatibilidad

- [ ] **Filtros existentes funcionan:** Local/External/Direct
- [ ] **Tags existentes funcionan:** Tags personalizados del admin
- [ ] **Pin model funciona:** Bot√≥n de fijar modelo sigue operativo
- [ ] **Set as default funciona:** Guardar modelo por defecto
- [ ] **Multi-model funciona:** A√±adir m√∫ltiples modelos al chat

### 7. Responsive/Mobile

- [ ] **Mobile viewport:** Selector se ve bien en m√≥vil
- [ ] **Touch friendly:** √Åreas de click suficientemente grandes
- [ ] **Scroll suave:** Lista scrollea correctamente
- [ ] **Pills scrolleables:** Filtros de categor√≠a scrollean horizontalmente

### 8. Performance

- [ ] **Render r√°pido:** Selector abre en <100ms
- [ ] **50+ modelos:** No hay lag con muchos modelos
- [ ] **Cambio de categor√≠a:** Fluido sin saltos visuales

### 9. Persistencia

- [ ] **Estado guardado:** Categor√≠as expandidas se recuerdan
- [ ] **LocalStorage:** No errores en consola

## Pruebas Manuales

### Test 1: Flujo B√°sico

1. Abrir selector de modelo
2. Verificar que aparecen categor√≠as agrupadas
3. Expandir/colapsar categor√≠as
4. Seleccionar un modelo
5. Verificar que el modelo seleccionado se muestra en el trigger

### Test 2: B√∫squeda

1. Abrir selector
2. Escribir "sonnet" en b√∫squeda
3. Verificar que solo aparecen modelos Sonnet (vista plana)
4. Borrar b√∫squeda
5. Verificar que vuelven las categor√≠as

### Test 3: Filtros Combinados

1. Abrir selector
2. Click en pill "üíª Coding"
3. Verificar que solo se muestran modelos de coding
4. Click en "Local" (si hay modelos locales de coding)
5. Verificar filtrado combinado

### Test 4: Badges

1. Abrir selector
2. Verificar badges visibles en GPT-4o (üëÅÔ∏è üîß)
3. Verificar badges en Claude Haiku (‚ö° üí∞)
4. Verificar context window en todos los modelos

## Comandos de Validaci√≥n

```bash
# Type checking
npm run check

# Lint
npm run lint:frontend

# Build
npm run build

# Dev server para testing manual
npm run dev
```

## Criterios de √âxito

| Criterio                | Requerido |
| ----------------------- | --------- |
| Sin errores TypeScript  | ‚úÖ        |
| Sin errores de lint     | ‚úÖ        |
| Build exitoso           | ‚úÖ        |
| Categorizaci√≥n correcta | ‚úÖ        |
| UI responsive           | ‚úÖ        |
| B√∫squeda funcional      | ‚úÖ        |
| Filtros compatibles     | ‚úÖ        |
| Performance aceptable   | ‚úÖ        |

## Rollback

Si hay problemas graves:

1. `git stash` los cambios
2. Revertir a selector original
3. Documentar issues encontrados
