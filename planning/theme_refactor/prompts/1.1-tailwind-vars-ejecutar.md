# Etapa 1.1 - Agregar Variables de Tema a tailwind.css

## Objetivo

Mover las definiciones de CSS variables de tema a `src/tailwind.css` dentro de `@layer base` para que Tailwind v4 las compile correctamente.

## Problema Actual

Las variables CSS definidas en `app.css` con selectores `[data-theme='*']` **NO son compiladas** por Tailwind CSS v4. El resultado es que `--color-surface-base` siempre devuelve el mismo valor sin importar el tema seleccionado.

## Prompt de Ejecucion

```
Agrega las definiciones de variables de tema CSS a tailwind.css:

1. ABRIR ARCHIVO:
   - Abrir `src/tailwind.css`
   - Localizar los bloques `@layer base` existentes (deberia haber 2 alrededor de lineas 13-72)

2. AGREGAR NUEVO BLOQUE @layer base:

   Despues del ultimo `@layer base` existente (aproximadamente linea 73), agregar:

   ```css
   @layer base {
     /* ============================================
        THEME SYSTEM - CSS Custom Properties
        IMPORTANTE: Estas variables DEBEN estar en @layer base
        para que Tailwind v4 las compile correctamente.
        ============================================ */

     /* Light Theme (Default) */
     :root,
     [data-theme="light"] {
       /* Surface Colors */
       --color-surface-base: 249 250 251;
       --color-surface-elevated: 255 255 255;
       --color-surface-overlay: 229 231 235;

       /* Text Colors */
       --color-text-primary: 15 23 42;
       --color-text-secondary: 71 85 105;
       --color-text-muted: 100 116 139;

       /* Gray Scale */
       --color-gray-50: 249 249 249;
       --color-gray-100: 236 236 236;
       --color-gray-200: 227 227 227;
       --color-gray-300: 205 205 205;
       --color-gray-400: 180 180 180;
       --color-gray-500: 155 155 155;
       --color-gray-600: 103 103 103;
       --color-gray-700: 78 78 78;
       --color-gray-800: 51 51 51;
       --color-gray-850: 38 38 38;
       --color-gray-900: 23 23 23;
       --color-gray-950: 13 13 13;

       /* Brand Colors - Cognitia Blue */
       --color-brand-50: 239 246 255;
       --color-brand-100: 219 234 254;
       --color-brand-200: 191 219 254;
       --color-brand-300: 147 197 253;
       --color-brand-400: 96 165 250;
       --color-brand-500: 59 130 246;
       --color-brand-600: 37 99 235;
       --color-brand-700: 29 78 216;
       --color-brand-800: 30 64 175;
       --color-brand-900: 30 58 138;
     }

     /* Dark Theme */
     .dark,
     [data-theme="dark"] {
       /* Surface Colors */
       --color-surface-base: 23 23 23;
       --color-surface-elevated: 38 38 38;
       --color-surface-overlay: 51 51 51;

       /* Text Colors */
       --color-text-primary: 248 250 252;
       --color-text-secondary: 148 163 184;
       --color-text-muted: 100 116 139;

       /* Gray Scale - Same values, context changes */
       --color-gray-50: 249 249 249;
       --color-gray-100: 236 236 236;
       --color-gray-200: 227 227 227;
       --color-gray-300: 205 205 205;
       --color-gray-400: 180 180 180;
       --color-gray-500: 155 155 155;
       --color-gray-600: 103 103 103;
       --color-gray-700: 78 78 78;
       --color-gray-800: 51 51 51;
       --color-gray-850: 38 38 38;
       --color-gray-900: 23 23 23;
       --color-gray-950: 13 13 13;
     }

     /* OLED Dark Theme - True Black */
     [data-theme="oled-dark"] {
       /* Surface Colors - Pure black for OLED screens */
       --color-surface-base: 0 0 0;
       --color-surface-elevated: 5 5 5;
       --color-surface-overlay: 16 16 16;

       /* Text Colors */
       --color-text-primary: 248 250 252;
       --color-text-secondary: 148 163 184;
       --color-text-muted: 100 116 139;

       /* Gray Scale - Deep blacks */
       --color-gray-800: 16 16 16;
       --color-gray-850: 5 5 5;
       --color-gray-900: 0 0 0;
       --color-gray-950: 0 0 0;
     }

     /* Her Theme - Rose/Pink */
     [data-theme="her"] {
       /* Surface Colors - Warm rose tints */
       --color-surface-base: 255 250 250;
       --color-surface-elevated: 255 255 255;
       --color-surface-overlay: 255 228 230;

       /* Text Colors */
       --color-text-primary: 23 23 23;
       --color-text-secondary: 71 85 105;
       --color-text-muted: 100 116 139;

       /* Brand Colors - Rose palette */
       --color-brand-50: 255 241 242;
       --color-brand-100: 255 228 230;
       --color-brand-200: 254 205 211;
       --color-brand-300: 253 164 175;
       --color-brand-400: 251 113 133;
       --color-brand-500: 244 63 94;
       --color-brand-600: 225 29 72;
       --color-brand-700: 190 18 60;
       --color-brand-800: 159 18 57;
       --color-brand-900: 136 19 55;
     }

     /* Semantic Colors - Shared across all themes */
     :root {
       --color-success: 34 197 94;
       --color-warning: 245 158 11;
       --color-error: 239 68 68;
       --color-info: 59 130 246;
     }
   }
   ```

3. GUARDAR ARCHIVO

4. VERIFICAR COMPILACION:

   El servidor de desarrollo deberia recompilar automaticamente.
   Si hay errores de sintaxis CSS, corregirlos.

Entrega:
- Archivo `src/tailwind.css` modificado con ~100 lineas nuevas
- Sin errores de compilacion en la consola de desarrollo
```

## Especificacion Tecnica

### Ubicacion del Codigo

```
src/tailwind.css
├── @import 'tailwindcss';        (linea 1)
├── @config '../tailwind.config.js';  (linea 3)
├── @layer base { ... }           (lineas 13-21) - border color
├── @layer base { ... }           (lineas 23-72) - fonts, checkboxes
├── @custom-variant hover         (linea 74)
│
└── [AGREGAR AQUI] @layer base { ... }  (NEW - theme variables)
```

### Por Que @layer base?

Tailwind CSS v4 procesa CSS en capas:
- `@layer base` - Estilos base, variables CSS, resets
- `@layer components` - Componentes reutilizables
- `@layer utilities` - Utilidades de Tailwind

**Las variables CSS en `[data-theme]` DEBEN estar en `@layer base`** para ser incluidas en el bundle final.

### Formato de Valores RGB

Los valores usan formato **space-separated RGB** (no comas):
```css
--color-surface-base: 249 250 251;  /* CORRECTO */
--color-surface-base: 249, 250, 251; /* INCORRECTO */
--color-surface-base: #f9fafb;       /* INCORRECTO */
```

Esto permite usar `rgb()` con Tailwind:
```css
background-color: rgb(var(--color-surface-base));
background-color: rgb(var(--color-surface-base) / 0.5); /* con alpha */
```

## Checklist Pre-Validacion

```
ARCHIVO
[ ] Abrir src/tailwind.css
[ ] Localizar fin de @layer base existentes (linea ~72)

CODIGO
[ ] Agregar bloque @layer base con variables de tema
[ ] Variables en formato RGB sin comas
[ ] 4 temas definidos: light, dark, oled-dark, her

COMPILACION
[ ] Servidor dev no muestra errores CSS
[ ] Hot reload funciona normalmente
```

## Siguiente Paso

Ejecutar prompt 1.2-tailwind-vars-validar.md para verificar que las variables se compilan correctamente.
