# Etapa 1.2 - Validar Variables CSS

## Objetivo

Verificar que las variables CSS de chatbox y titulo se compilan correctamente y estan disponibles en el navegador.

## Pre-requisitos

- Etapa 1.1 completada
- Servidor de desarrollo corriendo (`npm run dev`)
- Navegador abierto en `http://localhost:5173` o `http://localhost:8080`

## Validacion Automatica (DevTools Console)

Abrir DevTools (F12) y ejecutar el siguiente script:

```javascript
// Test de variables CSS - Chatbox & Titulo
(function testCSSVariables() {
  const root = document.documentElement;
  const themes = ['light', 'dark', 'oled-dark', 'her'];
  const variables = [
    '--color-chatbox-bg',
    '--color-chatbox-text',
    '--color-chatbox-border',
    '--color-chatbox-ring',
    '--color-title-gradient-start',
    '--color-title-gradient-end'
  ];

  let allPassed = true;
  const results = {};

  themes.forEach(theme => {
    // Aplicar tema
    root.setAttribute('data-theme', theme);
    root.classList.toggle('dark', theme === 'dark' || theme === 'oled-dark');

    results[theme] = {};

    variables.forEach(varName => {
      const value = getComputedStyle(root).getPropertyValue(varName).trim();
      results[theme][varName] = value || 'NOT FOUND';
      if (!value) allPassed = false;
    });
  });

  // Restaurar tema original
  const savedTheme = localStorage.getItem('theme') || 'dark';
  root.setAttribute('data-theme', savedTheme);
  root.classList.toggle('dark', savedTheme === 'dark' || savedTheme === 'oled-dark');

  console.table(results);
  console.log(allPassed ? '✅ PASS: Todas las variables estan definidas' : '❌ FAIL: Algunas variables faltan');

  return { passed: allPassed, results };
})();
```

## Criterios de Exito

### PASS
- [ ] No hay errores de compilacion CSS en la consola del servidor
- [ ] El script devuelve `✅ PASS: Todas las variables estan definidas`
- [ ] Cada tema tiene valores diferentes para las variables

### Valores Esperados

| Tema | `--color-chatbox-bg` | `--color-title-gradient-start` |
|------|----------------------|--------------------------------|
| light | `255 255 255` | `55 65 81` |
| dark | `10 10 10 / 0.8` | `236 236 236` |
| oled-dark | `0 0 0 / 0.9` | `236 236 236` |
| her | `255 250 250` | `136 19 55` |

## Si Falla

### Error: Variables no encontradas
1. Verificar que el bloque se agrego DENTRO de `@layer base`
2. Verificar sintaxis (punto y coma, llaves cerradas)
3. Reiniciar servidor de desarrollo

### Error: Compilacion CSS
1. Revisar errores en terminal del servidor
2. Verificar que no hay caracteres extra
3. Comparar con el codigo de referencia en etapa 1.1

## Siguiente Paso

Si todos los tests pasan, continuar con `2.1-chatbox-theme-ejecutar.md`.
