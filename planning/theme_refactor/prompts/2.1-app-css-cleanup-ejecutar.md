# Etapa 2.1 - Limpiar app.css (Remover Duplicados y Hardcodes)

## Objetivo

Remover las definiciones duplicadas de variables de tema en `app.css` y reemplazar los estilos hardcodeados del body con variables CSS.

## Prerequisito

**DEBE haber completado etapa 1.1 y 1.2 antes de esta etapa.**

Las variables de tema ya deben estar en `tailwind.css` y funcionando.

## Prompt de Ejecucion

```
Limpia el archivo app.css removiendo codigo duplicado y hardcodes:

1. ABRIR ARCHIVO:
   - Abrir `src/app.css`

2. REMOVER BLOQUES [data-theme] DUPLICADOS:

   BUSCAR y ELIMINAR estos bloques (aproximadamente lineas 38-206):

   ```css
   /* ELIMINAR TODO ESTE BLOQUE - Default (Light) Theme */
   :root,
   [data-theme='light'] {
     /* Brand Colors - Blue Corporate (Cognitia) */
     --color-brand-50: 239 246 255;
     /* ... todas las variables ... */
   }

   /* ELIMINAR TODO ESTE BLOQUE */
   [data-theme='dark'] {
     /* ... todas las variables ... */
   }

   /* ELIMINAR TODO ESTE BLOQUE */
   [data-theme='oled-dark'] {
     /* ... todas las variables ... */
   }

   /* ELIMINAR TODO ESTE BLOQUE */
   [data-theme='her'] {
     /* ... todas las variables ... */
   }
   ```

   IMPORTANTE: MANTENER este bloque (semantic colors):
   ```css
   :root {
     /* Semantic Colors - Shared */
     --color-success: 34 197 94;
     --color-warning: 245 158 11;
     --color-error: 239 68 68;
     --color-info: 59 130 246;
   }
   ```

   NOTA: Si semantic colors ya estan en tailwind.css, tambien se pueden remover de aqui.

3. BUSCAR Y REEMPLAZAR ESTILOS HARDCODEADOS DEL BODY:

   BUSCAR (aproximadamente lineas 882-890):
   ```css
   body {
     background: #fff;
     color: #000;
   }

   .dark body {
     background: #171717;
     color: #eee;
   }
   ```

   REEMPLAZAR CON:
   ```css
   body {
     background-color: rgb(var(--color-surface-base));
     color: rgb(var(--color-text-primary));
     transition: background-color 0.15s ease, color 0.15s ease;
   }
   ```

4. GUARDAR ARCHIVO

5. VERIFICAR COMPILACION:

   - El servidor dev no debe mostrar errores
   - La pagina debe seguir mostrando correctamente

Entrega:
- Archivo `src/app.css` limpio (~170 lineas menos)
- Body usando variables CSS en lugar de hardcodes
- Sin errores de compilacion
```

## Especificacion Tecnica

### Que Eliminar

| Seccion | Lineas Aprox | Accion |
|---------|--------------|--------|
| `:root, [data-theme='light']` | 38-82 | ELIMINAR |
| `[data-theme='dark']` | 84-128 | ELIMINAR |
| `[data-theme='oled-dark']` | 130-169 | ELIMINAR |
| `[data-theme='her']` | 171-206 | ELIMINAR |
| `body { background: #fff }` | 882-890 | REEMPLAZAR |

### Que Mantener

| Seccion | Descripcion |
|---------|-------------|
| `@reference "./tailwind.css"` | Import necesario |
| `@font-face` declarations | Fuentes |
| `:root { --app-text-scale }` | Variable de escala UI |
| Todos los demas estilos | Utilidades, animaciones, etc. |

### Nuevo Estilo del Body

```css
body {
  /* Usa variables que cambian con data-theme */
  background-color: rgb(var(--color-surface-base));
  color: rgb(var(--color-text-primary));

  /* Transicion suave al cambiar tema */
  transition: background-color 0.15s ease, color 0.15s ease;
}
```

## Checklist Pre-Validacion

```
ELIMINACIONES
[ ] Bloque :root, [data-theme='light'] eliminado
[ ] Bloque [data-theme='dark'] eliminado
[ ] Bloque [data-theme='oled-dark'] eliminado
[ ] Bloque [data-theme='her'] eliminado
[ ] Bloque body { background: #fff } eliminado
[ ] Bloque .dark body { background: #171717 } eliminado

ADICIONES
[ ] body { background-color: rgb(var(--color-surface-base)) } agregado
[ ] body { color: rgb(var(--color-text-primary)) } agregado
[ ] transition agregada al body

PRESERVADOS
[ ] @reference "./tailwind.css" presente
[ ] @font-face declarations presentes
[ ] --app-text-scale presente
[ ] Resto de utilidades y estilos presentes

COMPILACION
[ ] Servidor dev sin errores
[ ] Pagina carga correctamente
```

## Errores Comunes

### Error: Variable no definida

```
PROBLEMA: rgb(var(--color-surface-base)) no funciona
CAUSA: La variable no existe en el CSS compilado
SOLUCION: Verificar que etapa 1.1/1.2 esta completada
```

### Error: Pagina en blanco

```
PROBLEMA: Fondo desaparece
CAUSA: Variable devuelve valor vacio o invalido
SOLUCION:
  1. Verificar formato RGB sin comas en tailwind.css
  2. Verificar que data-theme esta seteado en el HTML
```

## Siguiente Paso

Ejecutar prompt 2.2-app-css-cleanup-validar.md para verificar que el body responde a cambios de tema.
