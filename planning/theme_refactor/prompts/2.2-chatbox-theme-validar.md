# Etapa 2.2 - Validar ChatBox Theme-Aware

## Objetivo

Verificar que el chatbox es legible y funcional en todos los temas.

## Pre-requisitos

- Etapa 2.1 completada
- Servidor de desarrollo corriendo
- Navegador abierto en la aplicacion

## Validacion Manual

### Test 1: Light Theme

1. Ir a Settings > Interface > Theme
2. Seleccionar "Light"
3. Verificar chatbox:

| Criterio | Esperado | Check |
|----------|----------|-------|
| Fondo | Blanco/casi blanco | [ ] |
| Texto placeholder | Gris oscuro visible | [ ] |
| Borde | Gris claro visible | [ ] |
| Focus ring | Azul al enfocar | [ ] |

### Test 2: Dark Theme

1. Seleccionar "Dark"
2. Verificar chatbox:

| Criterio | Esperado | Check |
|----------|----------|-------|
| Fondo | Negro semi-transparente | [ ] |
| Texto placeholder | Gris claro visible | [ ] |
| Borde | Sutil, casi invisible | [ ] |
| Sombra | Sombra profunda | [ ] |

### Test 3: OLED Dark Theme

1. Seleccionar "OLED Dark"
2. Verificar chatbox:

| Criterio | Esperado | Check |
|----------|----------|-------|
| Fondo | Negro puro o casi puro | [ ] |
| Contraste | Alto contraste texto/fondo | [ ] |

### Test 4: Her Theme

1. Seleccionar "Her"
2. Verificar chatbox:

| Criterio | Esperado | Check |
|----------|----------|-------|
| Fondo | Blanco con tinte rose | [ ] |
| Borde | Rose sutil | [ ] |

## Validacion Funcional

| Test | Accion | Esperado | Check |
|------|--------|----------|-------|
| Escribir texto | Escribir en el chatbox | Texto visible en todos los temas | [ ] |
| Enviar mensaje | Click boton enviar | Mensaje se envia correctamente | [ ] |
| Focus state | Click en el chatbox | Ring azul visible | [ ] |
| Hover state | Hover sobre el chatbox | Borde cambia sutilmente | [ ] |

## Validacion por DevTools

Ejecutar en la consola:

```javascript
// Verificar estilos computados del chatbox
(function testChatbox() {
  const chatbox = document.getElementById('message-input-container');
  if (!chatbox) {
    console.log('❌ FAIL: Chatbox no encontrado');
    return;
  }

  const styles = getComputedStyle(chatbox);
  console.log('Background:', styles.backgroundColor);
  console.log('Color:', styles.color);
  console.log('Border:', styles.borderColor);

  // Verificar que no hay colores hardcoded
  const classList = chatbox.className;
  const hasHardcodedBg = classList.includes('bg-[#0a0a0a]');
  const hasHardcodedText = classList.includes('text-gray-100') && !classList.includes('dark:text-gray-100');

  if (hasHardcodedBg || hasHardcodedText) {
    console.log('❌ FAIL: Aun hay colores hardcoded');
  } else {
    console.log('✅ PASS: No hay colores hardcoded');
  }
})();
```

## Criterios de Exito

- [ ] Light theme: Chatbox blanco legible
- [ ] Dark theme: Chatbox oscuro funcional
- [ ] OLED theme: Chatbox negro puro
- [ ] Her theme: Chatbox con tinte rose
- [ ] Input funciona correctamente en todos los temas
- [ ] No hay colores hardcodeados en las clases

## Si Falla

### Chatbox invisible en light mode
- Verificar que `text-gray-900` esta antes de `dark:text-gray-100`
- Verificar que `bg-white/95` esta antes de `dark:bg-[...]`

### Chatbox sin estilo en dark mode
- Verificar que las variables CSS de etapa 1 estan compiladas
- Verificar sintaxis de `rgb(var(--color-chatbox-bg))`

## Siguiente Paso

Si todos los tests pasan, continuar con `3.1-title-gradient-ejecutar.md`.
