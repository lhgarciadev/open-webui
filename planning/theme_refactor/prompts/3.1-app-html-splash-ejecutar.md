# Etapa 3.1 - Actualizar Splash Screen en app.html

## Objetivo

Actualizar el splash screen para que use variables CSS en lugar de colores hardcodeados.

## Prerequisito

**DEBE haber completado etapas 1 y 2 antes de esta etapa.**

## Prompt de Ejecucion

```
Actualiza el splash screen en app.html para usar variables CSS:

1. ABRIR ARCHIVO:
   - Abrir `src/app.html`
   - Localizar el bloque <style> cerca del final (aproximadamente linea 152)

2. BUSCAR ESTILOS DE SPLASH SCREEN:

   Buscar este bloque (aproximadamente lineas 158-168):

   ```css
   #splash-screen {
     background: #fff;
   }

   html.dark #splash-screen {
     background: #000;
   }

   html.her #splash-screen {
     background: #983724;
   }
   ```

3. REEMPLAZAR CON VARIABLE CSS:

   ```css
   #splash-screen {
     background: rgb(var(--color-surface-base, 255 255 255));
   }
   ```

   NOTA: El fallback "255 255 255" es para cuando las variables aun no se han cargado.

4. OPCIONAL - MEJORAR PROGRESS BAR:

   Si existe, actualizar el progress bar y background tambien:

   ```css
   #progress-background {
     background-color: rgba(var(--color-gray-500, 155 155 155), 0.4);
   }

   #progress-bar {
     background-color: rgb(var(--color-brand-500, 59 130 246));
   }
   ```

5. GUARDAR ARCHIVO

6. PROBAR RECARGA:

   - Recargar la pagina completamente (Ctrl+Shift+R / Cmd+Shift+R)
   - Observar que el splash screen tiene el color correcto del tema
   - No debe haber flash de color incorrecto

Entrega:
- Archivo `src/app.html` actualizado
- Splash screen usando variables CSS
- Sin flash de color al cargar
```

## Especificacion Tecnica

### Antes

```html
<style type="text/css" nonce="">
  /* ... otros estilos ... */

  #splash-screen {
    background: #fff;
  }

  html.dark #splash-screen {
    background: #000;
  }

  html.her #splash-screen {
    background: #983724;
  }
</style>
```

### Despues

```html
<style type="text/css" nonce="">
  /* ... otros estilos ... */

  #splash-screen {
    /* Usa variable CSS con fallback para carga inicial */
    background: rgb(var(--color-surface-base, 255 255 255));
  }

  /* Fallback explicito para dark antes de que JS cargue */
  html.dark #splash-screen {
    background: rgb(var(--color-surface-base, 23 23 23));
  }
</style>
```

### Por Que Fallbacks?

El splash screen aparece ANTES de que el CSS completo cargue. Los fallbacks aseguran:
1. Tema light: fondo blanco por defecto
2. Tema dark: fondo oscuro si `.dark` class ya esta aplicada (por el script inline)

## Consideraciones

### El Script Inline en app.html

El script en `<head>` ya aplica:
- La clase `.dark` segun localStorage
- El atributo `data-theme`

Por lo tanto, cuando el splash aparece:
- Las variables CSS **pueden** estar disponibles si el CSS cargo rapido
- Si no, los fallbacks se usan

### No Tocar el Script de Tema

El script en `<head>` (lineas 25-95 aprox) maneja la logica de tema inicial.
**NO modificar este script** - ya funciona correctamente.

## Checklist Pre-Validacion

```
CAMBIOS EN STYLES
[ ] #splash-screen usa rgb(var(--color-surface-base, ...))
[ ] Fallback para light: 255 255 255
[ ] Fallback para dark: 23 23 23 (opcional)

ELIMINADOS
[ ] background: #fff hardcodeado
[ ] background: #000 hardcodeado
[ ] background: #983724 hardcodeado

PRESERVADOS
[ ] Script de tema en <head> intacto
[ ] Resto de estilos del splash intactos
```

## Siguiente Paso

Ejecutar prompt 3.2-app-html-splash-validar.md para validacion visual final.
