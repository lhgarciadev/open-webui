# Etapa 4.1 - Agregar Fondos a Sticky Headers

## Contexto

Los headers sticky (sidebar, admin) no tienen fondo solido, causando que el texto se superponga al hacer scroll. Actualmente usan:
- Gradient workaround con `z-10` negativo (no funciona)
- O simplemente no tienen fondo

## Archivos a Modificar

```
src/lib/components/layout/Sidebar.svelte
src/lib/components/admin/Evaluations/Leaderboard.svelte
src/lib/components/admin/Users/UserList.svelte
src/lib/components/admin/Analytics/UserUsage.svelte
src/lib/components/admin/Analytics/ModelUsage.svelte
src/lib/components/admin/Analytics/Dashboard.svelte
```

## Instrucciones

### 1. Sidebar.svelte - Header Sticky

**Buscar (linea ~903):**
```svelte
<div
  class="sidebar px-[0.5625rem] pt-2 pb-1.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400 sticky top-0 z-10 -mb-3"
>
```

**Reemplazar con:**
```svelte
<div
  class="sidebar px-[0.5625rem] pt-2 pb-1.5 flex justify-between space-x-1 text-gray-600 dark:text-gray-400 sticky top-0 z-10 -mb-3 bg-gray-50 dark:bg-gray-950"
>
```

### 2. Sidebar.svelte - Eliminar Gradient Workaround

**Buscar y ELIMINAR completamente (lineas ~946-950):**
```svelte
<div
  class="{scrollTop > 0
    ? 'visible'
    : 'invisible'} sidebar-bg-gradient-to-b bg-linear-to-b from-gray-50 dark:from-gray-950 to-transparent from-50% pointer-events-none absolute inset-0 -z-10 -mb-6"
></div>
```

### 3. Sidebar.svelte - Footer Sticky

**Buscar (lineas ~1401-1404):**
```svelte
<div class="px-1.5 pt-1.5 pb-2 sticky bottom-0 z-50 -mt-3 sidebar">
  <div class="sidebar-bg-gradient-to-t bg-linear-to-t from-gray-50 dark:from-gray-950 to-transparent from-50% pointer-events-none absolute inset-0 -z-10 -mt-6"></div>
```

**Reemplazar con:**
```svelte
<div class="px-1.5 pt-1.5 pb-2 sticky bottom-0 z-50 -mt-3 sidebar bg-gray-50 dark:bg-gray-950">
```

**NOTA:** Eliminar el div hijo del gradient.

### 4. Admin Components (5 archivos)

En CADA uno de los siguientes archivos, buscar y reemplazar:

**Buscar:**
```svelte
class="... sticky top-0 z-10 bg-white dark:bg-gray-900"
```

**Reemplazar con:**
```svelte
class="... sticky top-0 z-10 bg-gray-50 dark:bg-gray-950"
```

**Archivos y lineas aproximadas:**
- `Leaderboard.svelte` linea ~108
- `UserList.svelte` linea ~166
- `UserUsage.svelte` linea ~50
- `ModelUsage.svelte` linea ~55
- `Dashboard.svelte` linea ~185

### 5. Guardar todos los archivos

## Resumen de Cambios

| Archivo | Cambio |
|---------|--------|
| Sidebar.svelte (header) | Agregar `bg-gray-50 dark:bg-gray-950` |
| Sidebar.svelte (gradient) | ELIMINAR div del gradient |
| Sidebar.svelte (footer) | Agregar fondo, eliminar gradient hijo |
| 5 Admin components | Cambiar `bg-white dark:bg-gray-900` a `bg-gray-50 dark:bg-gray-950` |

## Rollback

```bash
git checkout HEAD -- src/lib/components/layout/Sidebar.svelte
git checkout HEAD -- src/lib/components/admin/
```

## Siguiente Paso

Ejecutar `4.2-sticky-headers-validar.md` para verificar que no hay superposicion de texto.
