@import 'tailwindcss';

@config '../tailwind.config.js';

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
	*,
	::after,
	::before,
	::backdrop,
	::file-selector-button {
		border-color: var(--color-gray-200, currentColor);
	}
}

@layer base {
	html,
	pre {
		font-family:
			-apple-system, BlinkMacSystemFont, 'Inter', 'Vazirmatn', ui-sans-serif, system-ui, 'Segoe UI',
			Roboto, Ubuntu, Cantarell, 'Noto Sans', sans-serif, 'Helvetica Neue', Arial,
			'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
	}

	pre {
		white-space: pre-wrap;
	}

	button {
		@apply cursor-pointer;
	}

	input::placeholder,
	textarea::placeholder {
		color: theme(--color-gray-400);
	}

	input[type='checkbox'] {
		@apply appearance-none size-3.5 align-middle bg-white border border-gray-300 rounded transition cursor-pointer focus:ring-2 focus:ring-blue-500 focus:outline-none dark:bg-gray-800 dark:border-gray-600 self-center;
		/* Center the custom mark */
		display: inline-block;
		position: relative;
	}
	input[type='checkbox']:checked {
		@apply bg-blue-600 border-blue-600;
	}
	input[type='checkbox']:after {
		content: '';
		display: block;
		width: 100%;
		height: 100%;
		/* Hide by default */
		opacity: 0;
		transition: opacity 0.2s;
		position: absolute;
		top: 0;
		left: 0;
		pointer-events: none;
		/* SVG checkmark as background image */
		background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 16 16" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><path d="M4 8l3 3l5-5"/></svg>')
			center/80% no-repeat;
	}
	input[type='checkbox']:checked:after {
		opacity: 1;
	}
}

@custom-variant hover (&:hover);

/* ============================================
   THEME SYSTEM - CSS Custom Properties
   IMPORTANTE: Estas variables deben estar FUERA de @layer
   para que se incluyan en el CSS compilado sin tree-shaking.
   ============================================ */

/* Light Theme (Default) */
:root,
[data-theme='light'] {
	/* Surface Colors */
	--color-surface-base: 249 250 251;
	--color-surface-elevated: 255 255 255;
	--color-surface-overlay: 229 231 235;

	/* Text Colors */
	--color-text-primary: 15 23 42;
	--color-text-secondary: 71 85 105;
	--color-text-muted: 100 116 139;

	/* Gray Scale */
	--color-gray-50: 249 249 249;
	--color-gray-100: 236 236 236;
	--color-gray-200: 227 227 227;
	--color-gray-300: 205 205 205;
	--color-gray-400: 180 180 180;
	--color-gray-500: 155 155 155;
	--color-gray-600: 103 103 103;
	--color-gray-700: 78 78 78;
	--color-gray-800: 51 51 51;
	--color-gray-850: 38 38 38;
	--color-gray-900: 23 23 23;
	--color-gray-950: 13 13 13;

	/* Brand Colors - Cognitia Blue */
	--color-brand-50: 239 246 255;
	--color-brand-100: 219 234 254;
	--color-brand-200: 191 219 254;
	--color-brand-300: 147 197 253;
	--color-brand-400: 96 165 250;
	--color-brand-500: 59 130 246;
	--color-brand-600: 37 99 235;
	--color-brand-700: 29 78 216;
	--color-brand-800: 30 64 175;
	--color-brand-900: 30 58 138;
}

/* Dark Theme */
.dark,
[data-theme='dark'] {
	/* Surface Colors */
	--color-surface-base: 23 23 23;
	--color-surface-elevated: 38 38 38;
	--color-surface-overlay: 51 51 51;

	/* Text Colors */
	--color-text-primary: 248 250 252;
	--color-text-secondary: 148 163 184;
	--color-text-muted: 100 116 139;

	/* Gray Scale - Same values, context changes */
	--color-gray-50: 249 249 249;
	--color-gray-100: 236 236 236;
	--color-gray-200: 227 227 227;
	--color-gray-300: 205 205 205;
	--color-gray-400: 180 180 180;
	--color-gray-500: 155 155 155;
	--color-gray-600: 103 103 103;
	--color-gray-700: 78 78 78;
	--color-gray-800: 51 51 51;
	--color-gray-850: 38 38 38;
	--color-gray-900: 23 23 23;
	--color-gray-950: 13 13 13;
}

/* OLED Dark Theme - True Black */
[data-theme='oled-dark'] {
	/* Surface Colors - Pure black for OLED screens */
	--color-surface-base: 0 0 0;
	--color-surface-elevated: 5 5 5;
	--color-surface-overlay: 16 16 16;

	/* Text Colors */
	--color-text-primary: 248 250 252;
	--color-text-secondary: 148 163 184;
	--color-text-muted: 100 116 139;

	/* Gray Scale - Deep blacks */
	--color-gray-800: 16 16 16;
	--color-gray-850: 5 5 5;
	--color-gray-900: 0 0 0;
	--color-gray-950: 0 0 0;
}

/* Her Theme - Rose/Pink */
[data-theme='her'] {
	/* Surface Colors - Warm rose tints */
	--color-surface-base: 255 250 250;
	--color-surface-elevated: 255 255 255;
	--color-surface-overlay: 255 228 230;

	/* Text Colors */
	--color-text-primary: 23 23 23;
	--color-text-secondary: 71 85 105;
	--color-text-muted: 100 116 139;

	/* Brand Colors - Rose palette */
	--color-brand-50: 255 241 242;
	--color-brand-100: 255 228 230;
	--color-brand-200: 254 205 211;
	--color-brand-300: 253 164 175;
	--color-brand-400: 251 113 133;
	--color-brand-500: 244 63 94;
	--color-brand-600: 225 29 72;
	--color-brand-700: 190 18 60;
	--color-brand-800: 159 18 57;
	--color-brand-900: 136 19 55;
}

/* Semantic Colors - Shared across all themes */
:root {
	--color-success: 34 197 94;
	--color-warning: 245 158 11;
	--color-error: 239 68 68;
	--color-info: 59 130 246;
}

/* ============================================
   CHATBOX & TITLE COLORS - Theme-aware styling
   ============================================ */

/* Chatbox & Title - Light Theme */
:root,
[data-theme='light'] {
	/* Chatbox */
	--color-chatbox-bg: 255 255 255;
	--color-chatbox-text: 23 23 23;
	--color-chatbox-border: 229 231 235;
	--color-chatbox-ring: 59 130 246 / 0.2;
	--color-chatbox-shadow: 0 4px 20px -2px rgba(0, 0, 0, 0.1);
	/* Title Gradient */
	--color-title-gradient-start: 55 65 81;
	--color-title-gradient-end: 107 114 128;
}

/* Chatbox & Title - Dark Theme */
.dark,
[data-theme='dark'] {
	/* Chatbox */
	--color-chatbox-bg: 10 10 10 / 0.8;
	--color-chatbox-text: 243 244 246;
	--color-chatbox-border: 255 255 255 / 0.05;
	--color-chatbox-ring: 255 255 255 / 0.1;
	--color-chatbox-shadow: 0 10px 40px -5px rgba(0, 0, 0, 0.5);
	/* Title Gradient */
	--color-title-gradient-start: 236 236 236;
	--color-title-gradient-end: 155 155 155;
}

/* Chatbox & Title - OLED Dark Theme */
[data-theme='oled-dark'] {
	/* Chatbox */
	--color-chatbox-bg: 0 0 0 / 0.9;
	--color-chatbox-text: 248 250 252;
	--color-chatbox-border: 255 255 255 / 0.05;
	--color-chatbox-ring: 255 255 255 / 0.1;
	--color-chatbox-shadow: 0 10px 40px -5px rgba(0, 0, 0, 0.8);
	/* Title Gradient */
	--color-title-gradient-start: 236 236 236;
	--color-title-gradient-end: 155 155 155;
}

/* Chatbox & Title - Her Theme */
[data-theme='her'] {
	/* Chatbox */
	--color-chatbox-bg: 255 250 250;
	--color-chatbox-text: 23 23 23;
	--color-chatbox-border: 254 205 211;
	--color-chatbox-ring: 244 63 94 / 0.2;
	--color-chatbox-shadow: 0 4px 20px -2px rgba(244, 63, 94, 0.1);
	/* Title Gradient */
	--color-title-gradient-start: 136 19 55;
	--color-title-gradient-end: 190 18 60;
}
